#!/usr/bin/env ruby

$:.insert(0, 'lib')

require 'thor'
require 'parser.rb'
require 'lexer.rb'

module Mm2ep
  module Depend

    class ParseCli < Thor
      desc 'parse INFILE', 'Parse INFILE into tokens'
      def parse(infile)
        parser = Parser.new
        File.open(infile).each_line do |line|
          parser.parse(line)
        end
      end
        desc 'lexer ', 'Lexe into tokens'
        def lexer()
          truc = Lexer.new
          truc.validate ['VAR', 'SPACE']
        end

    end
  end
end

Mm2ep::Depend::ParseCli.start(ARGV)
